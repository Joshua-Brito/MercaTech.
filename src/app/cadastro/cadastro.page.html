<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ isEditing ? 'Editar Produto' : 'Cadastro de Produtos' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ isEditing ? 'Editar Produto' : 'Cadastrar Novo Produto' }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container" class="ion-padding">
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">

      <ion-list lines="full" class="ion-no-margin ion-no-padding">

        <ion-item>
          <ion-input label="Título" labelPlacement="stacked" placeholder="Nome do Produto" formControlName="title"></ion-input>
          <ion-note slot="end" color="danger" *ngIf="productForm.get('title')?.invalid && (productForm.get('title')?.dirty || productForm.get('title')?.touched)">
            Título é obrigatório.
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-input label="Descrição" labelPlacement="stacked" placeholder="Detalhes do Produto" formControlName="description"></ion-input>
          <ion-note slot="end" color="danger" *ngIf="productForm.get('description')?.invalid && (productForm.get('description')?.dirty || productForm.get('description')?.touched)">
            Descrição é obrigatória.
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-input label="Preço" labelPlacement="stacked" type="number" placeholder="0.00" formControlName="price"></ion-input>
          <ion-note slot="end" color="danger" *ngIf="productForm.get('price')?.invalid && (productForm.get('price')?.dirty || productForm.get('price')?.touched)">
            Preço é obrigatório e deve ser um número positivo.
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-input label="Categoria" labelPlacement="stacked" placeholder="Ex: Roupas, Eletrônicos" formControlName="category"></ion-input>
          <ion-note slot="end" color="danger" *ngIf="productForm.get('category')?.invalid && (productForm.get('category')?.dirty || productForm.get('category')?.touched)">
            Categoria é obrigatória.
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-input label="URL da Imagem" labelPlacement="stacked" placeholder="https://via.placeholder.com/..." formControlName="image"></ion-input>
          <ion-note slot="end" color="danger" *ngIf="productForm.get('image')?.invalid && (productForm.get('image')?.dirty || productForm.get('image')?.touched)">
            URL da Imagem é obrigatória.
          </ion-note>
        </ion-item>

        <ion-item>
          <ion-toggle formControlName="isFeatured">Produto em Destaque</ion-toggle>
        </ion-item>

      </ion-list>

      <div class="ion-padding">
        <ion-button expand="block" type="submit" [disabled]="!productForm.valid">
          {{ isEditing ? 'Atualizar Produto' : 'Cadastrar Produto' }}
        </ion-button>
      </div>

    </form>
  </div>
</ion-content>